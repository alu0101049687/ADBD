-- MySQL Script generated by MySQL Workbench
-- jue 07 nov 2019 09:45:48 WET
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `mydb` DEFAULT CHARACTER SET utf8 ;
USE `mydb` ;

-- -----------------------------------------------------
-- Table `mydb`.`Producto`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Producto` (
  `código` VARCHAR(8) NOT NULL,
  `precio` DOUBLE NULL,
  `stock` INT NULL,
  PRIMARY KEY (`código`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Vivero`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Vivero` (
  `coordenadas` VARCHAR(45) NOT NULL,
  `localidad` VARCHAR(45) NULL,
  PRIMARY KEY (`coordenadas`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Zona`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Zona` (
  `nombre_zona` VARCHAR(45) NOT NULL,
  `vivero.coordenadas` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`nombre_zona`, `vivero.coordenadas`),
  INDEX `vivero.cooredenadas_idx` (`vivero.coordenadas` ASC),
  CONSTRAINT `vivero`
    FOREIGN KEY (`vivero.coordenadas`)
    REFERENCES `mydb`.`Vivero` (`coordenadas`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Cliente`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Cliente` (
  `dni` VARCHAR(10) NOT NULL,
  `nombre` VARCHAR(45) NULL,
  `apellidos` VARCHAR(45) NULL,
  `bonificación` DOUBLE NULL,
  `total_mensual` DOUBLE NULL,
  PRIMARY KEY (`dni`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Empleado`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Empleado` (
  `dni` VARCHAR(10) NOT NULL,
  `antiguedad` INT NULL,
  `css` VARCHAR(45) NULL,
  `sueldo` DOUBLE NULL,
  `zona.nombre` VARCHAR(45) NULL,
  `vivero.coordenadas` VARCHAR(45) NULL,
  `fecha_inicial` DATE NOT NULL,
  `fecha_fin` DATE NULL,
  `ventas` DOUBLE NULL,
  PRIMARY KEY (`dni`, `fecha_inicial`),
  INDEX `vivero de trabajo_idx` (`vivero.coordenadas` ASC),
  CONSTRAINT `vivero de trabajo`
    FOREIGN KEY (`vivero.coordenadas`)
    REFERENCES `mydb`.`Vivero` (`coordenadas`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`producto_zona`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`producto_zona` (
  `zona.nombre` VARCHAR(45) NOT NULL,
  `producto.codigo` VARCHAR(8) NOT NULL,
  `vivero.coordenadas` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`zona.nombre`, `producto.codigo`, `vivero.coordenadas`),
  INDEX `zona clave parte 1_idx` (`zona.nombre` ASC, `vivero.coordenadas` ASC),
  INDEX `producto_idx` (`producto.codigo` ASC),
  CONSTRAINT `zona`
    FOREIGN KEY (`zona.nombre` , `vivero.coordenadas`)
    REFERENCES `mydb`.`Zona` (`nombre_zona` , `nombre_zona`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `producto`
    FOREIGN KEY (`producto.codigo`)
    REFERENCES `mydb`.`Producto` (`código`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`producto_cliente_empleado`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`producto_cliente_empleado` (
  `producto.codigo` VARCHAR(8) NOT NULL,
  `cliente.dni` VARCHAR(10) NOT NULL,
  `empleado.dni` VARCHAR(10) NOT NULL,
  `fecha` VARCHAR(45) NOT NULL,
  `cantidad` INT NULL,
  PRIMARY KEY (`producto.codigo`, `cliente.dni`, `empleado.dni`, `fecha`),
  INDEX `cliente_idx` (`cliente.dni` ASC),
  INDEX `empleado_idx` (`empleado.dni` ASC),
  CONSTRAINT `producto`
    FOREIGN KEY (`producto.codigo`)
    REFERENCES `mydb`.`Producto` (`código`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `cliente`
    FOREIGN KEY (`cliente.dni`)
    REFERENCES `mydb`.`Cliente` (`dni`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `empleado`
    FOREIGN KEY (`empleado.dni`)
    REFERENCES `mydb`.`Empleado` (`dni`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Data for table `mydb`.`Producto`
-- -----------------------------------------------------
START TRANSACTION;
USE `mydb`;
INSERT INTO `mydb`.`Producto` (`código`, `precio`, `stock`) VALUES ('1234', 30, 40);
INSERT INTO `mydb`.`Producto` (`código`, `precio`, `stock`) VALUES ('3267', 10, 18);
INSERT INTO `mydb`.`Producto` (`código`, `precio`, `stock`) VALUES ('1334', 20, 23);
INSERT INTO `mydb`.`Producto` (`código`, `precio`, `stock`) VALUES ('1390', 47, 16);
INSERT INTO `mydb`.`Producto` (`código`, `precio`, `stock`) VALUES ('8982', 36, 22);
INSERT INTO `mydb`.`Producto` (`código`, `precio`, `stock`) VALUES ('2846', 71, 20);
INSERT INTO `mydb`.`Producto` (`código`, `precio`, `stock`) VALUES ('1298', 18, 1);
INSERT INTO `mydb`.`Producto` (`código`, `precio`, `stock`) VALUES ('8931', 90, 5);
INSERT INTO `mydb`.`Producto` (`código`, `precio`, `stock`) VALUES ('9090', 12, 10);
INSERT INTO `mydb`.`Producto` (`código`, `precio`, `stock`) VALUES ('3321', 100, 20);

COMMIT;


-- -----------------------------------------------------
-- Data for table `mydb`.`Vivero`
-- -----------------------------------------------------
START TRANSACTION;
USE `mydb`;
INSERT INTO `mydb`.`Vivero` (`coordenadas`, `localidad`) VALUES ('Sur', 'Adeje');
INSERT INTO `mydb`.`Vivero` (`coordenadas`, `localidad`) VALUES ('Norte', 'Orotava');
INSERT INTO `mydb`.`Vivero` (`coordenadas`, `localidad`) VALUES ('Oeste', 'Masca');
INSERT INTO `mydb`.`Vivero` (`coordenadas`, `localidad`) VALUES ('Sur', 'Adeje');
INSERT INTO `mydb`.`Vivero` (`coordenadas`, `localidad`) VALUES ('Norte', 'Orotava');
INSERT INTO `mydb`.`Vivero` (`coordenadas`, `localidad`) VALUES ('Oeste', 'Masca');
INSERT INTO `mydb`.`Vivero` (`coordenadas`, `localidad`) VALUES ('Este', 'Candelaria');
INSERT INTO `mydb`.`Vivero` (`coordenadas`, `localidad`) VALUES ('Sur', 'Adeje');
INSERT INTO `mydb`.`Vivero` (`coordenadas`, `localidad`) VALUES ('Norte', 'Orotava');
INSERT INTO `mydb`.`Vivero` (`coordenadas`, `localidad`) VALUES ('Oeste', 'Masca');

COMMIT;


-- -----------------------------------------------------
-- Data for table `mydb`.`Zona`
-- -----------------------------------------------------
START TRANSACTION;
USE `mydb`;
INSERT INTO `mydb`.`Zona` (`nombre_zona`, `vivero.coordenadas`) VALUES ('Adeje', 'Sur');
INSERT INTO `mydb`.`Zona` (`nombre_zona`, `vivero.coordenadas`) VALUES ('Orotava', 'Norte');
INSERT INTO `mydb`.`Zona` (`nombre_zona`, `vivero.coordenadas`) VALUES ('Masca', 'Oeste');
INSERT INTO `mydb`.`Zona` (`nombre_zona`, `vivero.coordenadas`) VALUES ('Adeje', 'Sur');
INSERT INTO `mydb`.`Zona` (`nombre_zona`, `vivero.coordenadas`) VALUES ('Orotava', 'Norte');
INSERT INTO `mydb`.`Zona` (`nombre_zona`, `vivero.coordenadas`) VALUES ('Masca', 'Oeste');
INSERT INTO `mydb`.`Zona` (`nombre_zona`, `vivero.coordenadas`) VALUES ('Candelaria', 'Este');
INSERT INTO `mydb`.`Zona` (`nombre_zona`, `vivero.coordenadas`) VALUES ('Adeje', 'Sur');
INSERT INTO `mydb`.`Zona` (`nombre_zona`, `vivero.coordenadas`) VALUES ('Orotava', 'Norte');
INSERT INTO `mydb`.`Zona` (`nombre_zona`, `vivero.coordenadas`) VALUES ('Masca', 'Oeste');

COMMIT;


-- -----------------------------------------------------
-- Data for table `mydb`.`Cliente`
-- -----------------------------------------------------
START TRANSACTION;
USE `mydb`;
INSERT INTO `mydb`.`Cliente` (`dni`, `nombre`, `apellidos`, `bonificación`, `total_mensual`) VALUES ('26466231Q', 'Estefania', 'Acosta', 20, 100);
INSERT INTO `mydb`.`Cliente` (`dni`, `nombre`, `apellidos`, `bonificación`, `total_mensual`) VALUES ('92943679N', 'Maria Cristina', 'Valle Garrido', 10, 50);
INSERT INTO `mydb`.`Cliente` (`dni`, `nombre`, `apellidos`, `bonificación`, `total_mensual`) VALUES ('71045114T', 'Israel', 'Reyes Araujo', 30, 120);
INSERT INTO `mydb`.`Cliente` (`dni`, `nombre`, `apellidos`, `bonificación`, `total_mensual`) VALUES ('42398497K', 'Federico', 'Saenz Barrera', 30, 120);
INSERT INTO `mydb`.`Cliente` (`dni`, `nombre`, `apellidos`, `bonificación`, `total_mensual`) VALUES ('77810017M', 'Faustino', 'Mas Castro', 20, 100);
INSERT INTO `mydb`.`Cliente` (`dni`, `nombre`, `apellidos`, `bonificación`, `total_mensual`) VALUES ('53177191H', 'Jose Vicente', 'Benitez Rojas', 7, 30);
INSERT INTO `mydb`.`Cliente` (`dni`, `nombre`, `apellidos`, `bonificación`, `total_mensual`) VALUES ('20259384H', 'Elisabeth', 'Poveda Guzman', 1, 5);
INSERT INTO `mydb`.`Cliente` (`dni`, `nombre`, `apellidos`, `bonificación`, `total_mensual`) VALUES ('60736214E', 'Ascension', 'Abad Salguero', 2, 10);
INSERT INTO `mydb`.`Cliente` (`dni`, `nombre`, `apellidos`, `bonificación`, `total_mensual`) VALUES ('17454731P', 'Jorge', 'Benito Cobo', 7, 30);
INSERT INTO `mydb`.`Cliente` (`dni`, `nombre`, `apellidos`, `bonificación`, `total_mensual`) VALUES ('30364848H', 'Manuel Angel', 'Chaves Iglesias', 4, 25);

COMMIT;


-- -----------------------------------------------------
-- Data for table `mydb`.`Empleado`
-- -----------------------------------------------------
START TRANSACTION;
USE `mydb`;
INSERT INTO `mydb`.`Empleado` (`dni`, `antiguedad`, `css`, `sueldo`, `zona.nombre`, `vivero.coordenadas`, `fecha_inicial`, `fecha_fin`, `ventas`) VALUES ('18064647X', 10, '448788286665', 1.200, 'Adeje', 'Sur', '01/01/19', '02/02/20', 30);
INSERT INTO `mydb`.`Empleado` (`dni`, `antiguedad`, `css`, `sueldo`, `zona.nombre`, `vivero.coordenadas`, `fecha_inicial`, `fecha_fin`, `ventas`) VALUES ('11336713J', 2, '398590973490', 1.200, 'Orotava', 'Norte', '02/02/19', '03/03/20', 20);
INSERT INTO `mydb`.`Empleado` (`dni`, `antiguedad`, `css`, `sueldo`, `zona.nombre`, `vivero.coordenadas`, `fecha_inicial`, `fecha_fin`, `ventas`) VALUES ('19711831A', 1, '052016072467', 1.200, 'Masca', 'Oeste', '03/03/19', '04/04/20', 10);
INSERT INTO `mydb`.`Empleado` (`dni`, `antiguedad`, `css`, `sueldo`, `zona.nombre`, `vivero.coordenadas`, `fecha_inicial`, `fecha_fin`, `ventas`) VALUES ('90549391R', 2, '166055084989', 1.200, 'Adeje', 'Sur', '04/04/19', '05/05/20', 50);
INSERT INTO `mydb`.`Empleado` (`dni`, `antiguedad`, `css`, `sueldo`, `zona.nombre`, `vivero.coordenadas`, `fecha_inicial`, `fecha_fin`, `ventas`) VALUES ('25872808Q', 12, '028796758903', 1.200, 'Orotava', 'Norte', '05/05/19', '06/06/20', 20);
INSERT INTO `mydb`.`Empleado` (`dni`, `antiguedad`, `css`, `sueldo`, `zona.nombre`, `vivero.coordenadas`, `fecha_inicial`, `fecha_fin`, `ventas`) VALUES ('51126694V', 6, '251573949872', 1.200, 'Masca', 'Oeste', '06/06/19', '07/07/20', 30);
INSERT INTO `mydb`.`Empleado` (`dni`, `antiguedad`, `css`, `sueldo`, `zona.nombre`, `vivero.coordenadas`, `fecha_inicial`, `fecha_fin`, `ventas`) VALUES ('73991017V', 9, '513626546030', 1.200, 'Candelaria', 'Este', '07/07/19', '08/08/20', 10);
INSERT INTO `mydb`.`Empleado` (`dni`, `antiguedad`, `css`, `sueldo`, `zona.nombre`, `vivero.coordenadas`, `fecha_inicial`, `fecha_fin`, `ventas`) VALUES ('02129857B', 2, '028114912557', 1.200, 'Adeje', 'Sur', '08/08/19', '09/09/20', 30);
INSERT INTO `mydb`.`Empleado` (`dni`, `antiguedad`, `css`, `sueldo`, `zona.nombre`, `vivero.coordenadas`, `fecha_inicial`, `fecha_fin`, `ventas`) VALUES ('36829090H', 9, '381189972732', 1.200, 'Orotava', 'Norte', '09/09/19', '10/10/20', 20);
INSERT INTO `mydb`.`Empleado` (`dni`, `antiguedad`, `css`, `sueldo`, `zona.nombre`, `vivero.coordenadas`, `fecha_inicial`, `fecha_fin`, `ventas`) VALUES ('46337862S', 12, '082708472967', 1.200, 'Masca', 'Oeste', '10/10/10', '11/11/20', 50);
INSERT INTO `mydb`.`Empleado` (`dni`, `antiguedad`, `css`, `sueldo`, `zona.nombre`, `vivero.coordenadas`, `fecha_inicial`, `fecha_fin`, `ventas`) VALUES (DEFAULT, , NULL, NULL, NULL, NULL, DEFAULT, NULL, NULL);

COMMIT;


-- -----------------------------------------------------
-- Data for table `mydb`.`producto_zona`
-- -----------------------------------------------------
START TRANSACTION;
USE `mydb`;
INSERT INTO `mydb`.`producto_zona` (`zona.nombre`, `producto.codigo`, `vivero.coordenadas`) VALUES ('Adeje', '1234', 'Sur');
INSERT INTO `mydb`.`producto_zona` (`zona.nombre`, `producto.codigo`, `vivero.coordenadas`) VALUES ('Orotava', '3267', 'Norte');
INSERT INTO `mydb`.`producto_zona` (`zona.nombre`, `producto.codigo`, `vivero.coordenadas`) VALUES ('Masca', '1334', 'Oeste');
INSERT INTO `mydb`.`producto_zona` (`zona.nombre`, `producto.codigo`, `vivero.coordenadas`) VALUES ('Adeje', '1390', 'Sur');
INSERT INTO `mydb`.`producto_zona` (`zona.nombre`, `producto.codigo`, `vivero.coordenadas`) VALUES ('Orotava', '8982', 'Norte');
INSERT INTO `mydb`.`producto_zona` (`zona.nombre`, `producto.codigo`, `vivero.coordenadas`) VALUES ('Masca', '2846', 'Oeste');
INSERT INTO `mydb`.`producto_zona` (`zona.nombre`, `producto.codigo`, `vivero.coordenadas`) VALUES ('Candelaria', '1298', 'Este');
INSERT INTO `mydb`.`producto_zona` (`zona.nombre`, `producto.codigo`, `vivero.coordenadas`) VALUES ('Adeje', '8931', 'Sur');
INSERT INTO `mydb`.`producto_zona` (`zona.nombre`, `producto.codigo`, `vivero.coordenadas`) VALUES ('Orotava', '9090', 'Norte');
INSERT INTO `mydb`.`producto_zona` (`zona.nombre`, `producto.codigo`, `vivero.coordenadas`) VALUES ('Masca', '3321', 'Oeste');

COMMIT;


-- -----------------------------------------------------
-- Data for table `mydb`.`producto_cliente_empleado`
-- -----------------------------------------------------
START TRANSACTION;
USE `mydb`;
INSERT INTO `mydb`.`producto_cliente_empleado` (`producto.codigo`, `cliente.dni`, `empleado.dni`, `fecha`, `cantidad`) VALUES ('1234', '26466231Q', '18064647X', '01/01/19', 1);
INSERT INTO `mydb`.`producto_cliente_empleado` (`producto.codigo`, `cliente.dni`, `empleado.dni`, `fecha`, `cantidad`) VALUES ('3267', '92943679N', '11336713J', '01/02/19', 2);
INSERT INTO `mydb`.`producto_cliente_empleado` (`producto.codigo`, `cliente.dni`, `empleado.dni`, `fecha`, `cantidad`) VALUES ('1334', '71045114T', '19711831A', '01/03/19', 3);
INSERT INTO `mydb`.`producto_cliente_empleado` (`producto.codigo`, `cliente.dni`, `empleado.dni`, `fecha`, `cantidad`) VALUES ('1390', '42398497K', '90549391R', '01/04/19', 4);
INSERT INTO `mydb`.`producto_cliente_empleado` (`producto.codigo`, `cliente.dni`, `empleado.dni`, `fecha`, `cantidad`) VALUES ('8982', '77810017M', '25872808Q', '01/05/19', 5);
INSERT INTO `mydb`.`producto_cliente_empleado` (`producto.codigo`, `cliente.dni`, `empleado.dni`, `fecha`, `cantidad`) VALUES ('2846', '53177191H', '51126694V', '01/06/19', 5);
INSERT INTO `mydb`.`producto_cliente_empleado` (`producto.codigo`, `cliente.dni`, `empleado.dni`, `fecha`, `cantidad`) VALUES ('1298', '20259384H', '73991017V', '01/07/19', 6);
INSERT INTO `mydb`.`producto_cliente_empleado` (`producto.codigo`, `cliente.dni`, `empleado.dni`, `fecha`, `cantidad`) VALUES ('8931', '60736214E', '02129857B', '01/08/19', 7);
INSERT INTO `mydb`.`producto_cliente_empleado` (`producto.codigo`, `cliente.dni`, `empleado.dni`, `fecha`, `cantidad`) VALUES ('9090', '17454731P', '36829090H', '01/09/19', 9);
INSERT INTO `mydb`.`producto_cliente_empleado` (`producto.codigo`, `cliente.dni`, `empleado.dni`, `fecha`, `cantidad`) VALUES ('3321', '30364848H', '46337862S', '01/10/19', 8);

COMMIT;

